<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <title>Revolving bubbles configuration</title>
    <script src="/code.jquery.com//jquery-1.js" type="text/javascript"></script>
    <style>
        .disabled {
            color: #CCC;
        }

        fieldset {
            padding: 10px;
        }

        legend {
            padding: 0px 10px;
        }
            legend img {
                margin-right: 5px;
            }
            legend h3 {
                display: inline;
                position: relative;
                top: -7px;
            }
        .footer {
            color: #666;
            font-size: 12px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<br><br>
        <fieldset>
            <legend>
                <img src="/zckr.com/prieni/revolving_icon.png">
                <h3>Revolving bubbles</h3>
            </legend>
            <p>
                <input type="checkbox" id="show24h" checked="checked">
                <label id="timeLabel" for="show24h">24h mode</label>
            </p>
            <p>
                <input type="checkbox" id="showDate" checked="checked">
                <label id="dateLabel" for="showDate">show date</label>
	    </p>
            <p>
                <input type="checkbox" id="vibration">
                <label id="ROWLabel" for="vibration">vibrations on bluetooth connect/disconnect</label>
            </p>
            <p>
                <input type="checkbox" id="invertColor">
                <label id="invertLabel" for="invertColor">Invert Color (White background if checked)</label>
            </p>
            <p>
                <input type="button" id="submitBtn" value="Submit">
                <input type="button" id="cancelBtn" value="Cancel">
            </p>
        </fieldset>
        <div class="footer">Revolving bubbles watchface developed by R. Prien</div>
    <script type="text/javascript">
        function saveOptions() {
            var options = {
                "0": $("#show24h").is(':checked')?1:0,
                "1": $("#showDate").is(':checked')?1:0,
                "2": $("#vibration").is(':checked')?1:0,
                "3": $("#invertColor").is(':checked')?1:0,
                "4": 0
            }
            return options;
        }

        $().ready(function () {

            $("#cancelBtn").click(function () {
                console.log("Cancel");
                window.location.href = "pebblejs://close";
            });

            $("#submitBtn").click(function () {
                console.log("Submit");

                var location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(saveOptions()));
                console.log("Warping to: " + location);
                console.log(location);
                window.location.href = location;
            });
        });
    </script>

</body>
</html>
