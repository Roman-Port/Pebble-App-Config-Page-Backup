function iframeLoaded(){"use strict";var e=document.getElementById("header-container");var o=document.getElementById("config-container");if(Cookies.get("espn_s2")||Cookies.get("BLUE")){e.style.visibility="visible";o.style.top="85px"}else{e.style.visibility="hidden";o.style.top="0"}}function save(){"use strict";closeWindow({SWID:getAuthCookieSwid(),S2:Cookies.get("espn_s2"),BLUE:Cookies.get("BLUE"),clear:false})}function logout(){"use strict";deleteCookies();closeWindow({SWID:getAuthCookieSwid(),S2:Cookies.get("espn_s2"),BLUE:Cookies.get("BLUE"),clear:true})}function closeWindow(e){"use strict";document.location="pebblejs://close#"+encodeURIComponent(JSON.stringify(e))}function deleteCookies(){"use strict";Cookies.expire("SWID");Cookies.expire("espn_s2");Cookies.expire("BLUE");Cookies.expire("espnAuth")}function loadWindow(){"use strict";Cookies.defaults={path:"/",domain:".go.com",secure:false,expires:Infinity};var e=getAuthCookieSwid();if(e){Cookies.set("SWID",e)}var o=new URI(document.URL).search(true),t=o.SWID,i=o.BLUE,s=o.S2;if((i||s)&&!(Cookies.get("espn_s2")||Cookies.get("BLUE"))){Cookies.set("BLUE",i);Cookies.set("SWID",t)}document.getElementById("config-iframe").addEventListener("load",iframeLoaded);var n=document.getElementById("config-iframe");if(Cookies.get("espn_s2")||Cookies.get("BLUE")){n.src="http://espn.go.com/core/preferences/favorites_management"}else{n.src="https://m.espn.go.com/mobile/apps/reg/login?app=pebble&returnURL=http://espn.go.com/core/preferences/favorites_management"}}function getAuthCookieSwid(){var e=Cookies.get("espnAuth");if(e){return JSON.parse(Cookies.get("espnAuth")).swid}return null}window.onload=loadWindow;
