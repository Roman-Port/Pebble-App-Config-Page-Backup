<!DOCTYPE html>
<html>
  <head>
  <title>Amiga WB2 Clock Settings</title>
  <link rel='stylesheet' type='text/css' href='/www.lucaviola.lv/amigawb2clock/config/css/A.css'>
  <script src='/www.lucaviola.lv/amigawb2clock/config/js/slate.js'></script>
  <style>.title{padding:15px 10px;text-transform:uppercase;font-family:'PT Sans',sans-serif;font-size:1.2em;font-weight:500;color:#888;text-align:center}</style>
  </head>

  <body>
    <h1 class='title'>Amigawb2clock Settings</h1>

    <div class='item-container'>
      <div class='item-container-content'>
        <div class='item'>
          Configuration options
        </div>
      </div>
    </div>

    <div class='item-container'>
      <div class='item-container-header'>Behaviour</div>
      <div class='item-container-content'>
        <label class='item'>
          Show the seconds hand
          <input id='show_seconds' type='checkbox' class='item-toggle' value='1'>
        </label>
      </div>

      <div class='item-container-content'>
        <label class='item'>
          Render hands with antialiasing
          <input id='antialias' type='checkbox' class='item-toggle' value='1'>
        </label>
      </div>

      <div class='item-container-content'>
        <label class='item'>
          Show AM/PM
          <input id='show_ampm' type='checkbox' class='item-toggle' value='1'>
        </label>
      </div>

      <div class='item-container-content'>
        <label class='item'>
          Show the current date
          <input id='show_date' type='checkbox' class='item-toggle' value='1'>
        </label>
      </div>

      <div class='item-container-content'>
        <label class='item'>
          Vibrate every hour o'clock
          <input id='vibrate_hourly' type='checkbox' class='item-toggle' value='1'>
        </label>
      </div>

      <div class='item-container-footer'>
        Define how the watchface appears and behaves.
      </div>
    </div>

    <div class='item-container'>
      <div class='item-container-header'>System related</div>
      <div class='item-container-content'>
        <label class='item'>
          Show bluetooth connection
          <input id='show_bluetooth' type='checkbox' class='item-toggle'>
        </label>
      </div>
      <div class='item-container-content'>
        <label class='item'>
          Show battery level
          <input id='show_battery' type='checkbox' class='item-toggle'>
        </label>
      </div>
      <div class='item-container-footer'>
        Switches related to system information.
      </div>
    </div>

    <div class='item-container'>
      <div class='button-container'>
        <input id='submit_button' type='button' class='item-button' value='SUBMIT'>
      </div>
    </div>
  </body>
  <script>function getConfigData(){var show_seconds=document.getElementById('show_seconds');var antialias=document.getElementById('antialias');var show_ampm=document.getElementById('show_ampm');var show_date=document.getElementById('show_date');var vibrate_hourly=document.getElementById('vibrate_hourly');var show_bluetooth=document.getElementById('show_bluetooth');var show_battery=document.getElementById('show_battery');var options={'show_seconds':show_seconds.checked,'antialias':antialias.checked,'show_ampm':show_ampm.checked,'show_date':show_date.checked,'vibrate_hourly':vibrate_hourly.checked,'show_bluetooth':show_bluetooth.checked,'show_battery':show_battery.checked};localStorage['show_seconds']=options['show_seconds'];localStorage['antialias']=options['antialias'];localStorage['show_ampm']=options['show_ampm'];localStorage['show_date']=options['show_date'];localStorage['vibrate_hourly']=options['vibrate_hourly'];localStorage['show_bluetooth']=options['show_bluetooth'];localStorage['show_battery']=options['show_battery'];console.log('Got options: '+JSON.stringify(options));return options;}function getQueryParam(variable,defaultValue){var query=location.search.substring(1);var vars=query.split('&');for(var i=0;i<vars.length;i++){var pair=vars[i].split('=');if(pair[0]===variable){return decodeURIComponent(pair[1]);}}return defaultValue||false;}var submitButton=document.getElementById('submit_button');submitButton.addEventListener('click',function(){console.log('Submit');var return_to=getQueryParam('return_to','pebblejs://close#');document.location=return_to+encodeURIComponent(JSON.stringify(getConfigData()));});(function(){var show_seconds=document.getElementById('show_seconds');var antialias=document.getElementById('antialias');var show_ampm=document.getElementById('show_ampm');var show_date=document.getElementById('show_date');var vibrate_hourly=document.getElementById('vibrate_hourly');var show_bluetooth=document.getElementById('show_bluetooth');var show_battery=document.getElementById('show_battery');if(localStorage['show_seconds']){show_seconds.checked=JSON.parse(localStorage['show_seconds']);antialias.checked=JSON.parse(localStorage['antialias']);show_ampm.checked=JSON.parse(localStorage['show_ampm']);show_date.checked=JSON.parse(localStorage['show_date']);vibrate_hourly.checked=JSON.parse(localStorage['vibrate_hourly']);show_bluetooth.checked=JSON.parse(localStorage['show_bluetooth']);show_battery.checked=JSON.parse(localStorage['show_battery']);}})();</script>
</html>