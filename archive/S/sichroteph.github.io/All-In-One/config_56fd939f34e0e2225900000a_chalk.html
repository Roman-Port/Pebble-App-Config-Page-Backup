<!DOCTYPE html>
<html>
  <head>
  <title>All-In</title>
  <link rel='stylesheet' type='text/css' href='/sichroteph.github.io/All-In-One/css/slate.css'>
  <script src='/sichroteph.github.io/All-In-One/js/slate.js'></script>
  <style>
  .title {
    padding: 15px 10px;
    text-transform: uppercase;
    font-family: 'PT Sans', sans-serif;
    font-size: 1.2em;
    font-weight: 500;
    color: #888888;
    text-align: center;
  }
  </style>
  </head>

  <body>
    <h1 class='title'>All-In</h1>
                                     
        <label class='item'>
    Hourly vibrations (Quiet time from 10pm-10am)
      <input id='vibration' type='checkbox' class='item-toggle'>
    </label>    
             <label class='item'>
    Minutes marks
      <input id='mn_marks' type='checkbox' class='item-toggle'>
    </label>     
             <label class='item'>
    5-...-55 marks
      <input id='five_marks' type='checkbox' class='item-toggle'>
    </label>       
    
    <div class='item-container'>
  <div class='item-container-header'>Units</div>
  <div class='item-container-content'>
    <label class='item'>
      Imperial
      <input type='radio' class='item-radio' name='radio1' input="" id='radio_units' value='a'>
    </label>
    <label class='item'>
      Metric
      <input type='radio' class='item-radio' name='radio1' input="" id='radio_units' value='b' checked="">
    </label>
  </div>
</div>

    
                <label class='item'>
      Background color
      <input type='text' class='item-color item-color-normal' input="" id='color_bg' value='0x000000'>
    </label>
    
        <label class='item'>
      Hands
      <input type='text' class='item-color item-color-normal' input="" id='color_hands' value='0xffffff'>
    
    </label>
       
	<label class='item'>
      Marks color
   
   <input type='text' class='item-color item-color-normal' input="" id='color_bubles' value='0x0000AA'>
    
    </label>
            <label class='item'>
      Text color
      <input type='text' class='item-color item-color-normal' input="" id='color_text' value='0xffffff'>
    </label>



    <div class='item-container'>
      <div class='button-container'>
        <input id='submit_button' type='button' class='item-button' value='SUBMIT'>
      </div>
    </div>
    
   
                   <div class='item-container-footer'>
        If you REALLY like this app <br>
        you can give me a little something on Paypal  <a href='/www.paypal.me//ChristopheJEANNETTE.html'>here</a>. <br>
        - Otherwise just enjoy it, it's free !
        
  
    </div>

  </body>


  <script>

  function getConfigData() {
    var vibration = document.getElementById('vibration');
    var mn_marks = document.getElementById('mn_marks');
    var five_marks = document.getElementById('five_marks');
    var radio_units = document.getElementById('radio_units');
    var color_bg = document.getElementById('color_bg');
    var color_hands = document.getElementById('color_hands');

    var color_bubles = document.getElementById('color_bubles');
     var color_text = document.getElementById('color_text');




    var options = {
      'vibration': vibration.checked,
        'mn_marks': mn_marks.checked,
          'five_marks': five_marks.checked,
          
       'radio_units': radio_units.checked,
       'color_bg': color_bg.value,
       'color_hands': color_hands.value,
       'color_bubles': color_bubles.value,
        'color_text': color_text.value,

    };

    // Save for next launch
     
    localStorage['radio_units'] = options['radio_units'];
    localStorage['vibration'] = options['vibration'];
     localStorage['mn_marks'] = options['mn_marks'];
      localStorage['five_marks'] = options['five_marks'];
          
    localStorage['color_bg'] = options['color_bg'];
    localStorage['color_hands'] = options['color_hands'];
    localStorage['color_bubles'] = options['color_bubles'];
    localStorage['color_text'] = options['color_text'];

    console.log('Got options: ' + JSON.stringify(options));
    return options;
  }

  function getQueryParam(variable, defaultValue) {
    var query = location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      if (pair[0] === variable) {
        return decodeURIComponent(pair[1]);
      }
    }
    return defaultValue || false;
  }
 
  var submitButton = document.getElementById('submit_button');
  submitButton.addEventListener('click', function() {
    console.log('Submit');

    // Set the return URL depending on the runtime environment
    var return_to = getQueryParam('return_to', 'pebblejs://close#');
    document.location = return_to + encodeURIComponent(JSON.stringify(getConfigData()));
  });

  (function() {
  
    var vibration = document.getElementById('vibration');
    var mn_marks = document.getElementById('mn_marks');
    var five_marks = document.getElementById('five_marks');
       var radio_units = document.getElementById('radio_units');
    var color_bg = document.getElementById('color_bg');
    var color_hands = document.getElementById('color_hands');
    var color_bubles = document.getElementById('color_bubles');
    var color_text = document.getElementById('color_text');

    vibration.checked = JSON.parse(localStorage['vibration']);
    mn_marks.checked = JSON.parse(localStorage['mn_marks']);
    five_marks.checked = JSON.parse(localStorage['five_marks']);
       radio_units.checked =  JSON.parse(localStorage['radio_units']); 
    color_bg.value =  localStorage['color_bg'];
    color_hands.value =  localStorage['color_hands'];
        color_bubles.value =  localStorage['color_bubles'];
    color_text.value =  localStorage['color_text'];


  })();
  </script>
</html>
