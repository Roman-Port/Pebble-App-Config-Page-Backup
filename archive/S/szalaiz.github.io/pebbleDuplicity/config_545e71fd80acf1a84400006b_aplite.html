<html>  <! (c)2015 by szala>

<head>
  <title>Duplicity Configuration</title>
  <link rel="stylesheet" href="/code.jquery.com/mobile/1.3.2/jquery.css">
  <script src="/code.jquery.com//jquery-2.js"></script>
  <script src="/code.jquery.com/mobile/1.3.2/jquery.js"></script>
  <style type="text/css">
    .ui-page {
      background: #f60;
      color: #fff;
    }
    .ui-bar-a {background: transparent; border: none; color: #fff; text-shadow: none;}
    .ui-body-b {background: transparent; border: none;}
    .ui-body-c {color: #fff; text-shadow: none;}
    .ui-btn-up-d,
    .ui-btn-hover-d,
    .ui-btn-up-a,
    .ui-btn-hover-a:hover {background: transparent; border: 1px solid #fff; box-shadow: none; color: #fff; font-weight: normal; text-transform: uppercase; text-shadow: none;}
    .ui-btn-hover-d:hover,
    .ui-btn-up-a {background: #fff; color: #f60;}
  </style>
</head>

<body>
  <form name="timezoneForm">
    <div data-role="page" id="main">
      <div data-role="header" class="jqm-header">
        <h1>Settings</h1>
      </div>
      <div data-role="content">
        <div data-role="fieldcontain">
          <label for="searchingFor" style="display: block; padding-bottom: 0.5em; width: 100%;">Local Time Difference</label>
          <input type="hidden" name="timeDifference" id="timeDifference" value="0">
          <table>
            <tr>
              <td>
                <select name="signBox" id="signBox">
                  <option value="1" selected="">+</option>
                  <option value="-1">-</option>
                </select>
              </td>
              <td> &nbsp; </td>
              <td>
                <select name="hourDifference" id="hourDifference">
                  <option value="0" selected="">00</option>
                  <option value="60">01</option>
                  <option value="120">02</option>
                  <option value="180">03</option>
                  <option value="240">04</option>
                  <option value="300">05</option>
                  <option value="360">06</option>
                  <option value="420">07</option>
                  <option value="480">08</option>
                  <option value="540">09</option>
                  <option value="600">10</option>
                  <option value="660">11</option>
                  <option value="720">12</option>
                </select>
              </td>
              <td><b>:</b></td>
              <td>
                <select name="minuteDifference" id="minuteDifference">
                  <option value="0" selected="">00</option>
                  <option value="30">30</option>
                </select>
              </td>
            </tr>
          </table>
        </div>
        <div class="ui-body ui-body-b">
          <fieldset class="ui-grid-a">
            <div class="ui-block-a"><button type="submit" data-theme="d" id="b-reset">Reset</button></div>
            <div class="ui-block-b"><button type="submit" data-theme="a" id="b-submit">Submit</button></div>
          </fieldset>
        </div>
        <br>
        <br>
        <br>
        <ul>
          <li>
            <strong>Modder</strong>
            <span>Szala</span>
          </li>
          <li>
            <strong>Based on</strong>
            <span>Simplicity</span>
          </li>
          <li>
            <strong>Updated</strong>
            <span>Mar 2, 2017</span>
          </li>
        </ul>  
      </div>
    </div>
  </form>

  <script>
    function saveOptions() {
      timeDifference = parseInt($("#signBox").val()) * (parseInt($("#hourDifference").val()) + parseInt($("#minuteDifference").val()));
      timezoneForm.timeDifference.value = timeDifference;
      var options = {
        timeDifference: $("#timeDifference").val()
      }
      return options;
    }

    function resetOptions() {
      var options = {
        timeDifference: "0"
      }
      return options;
    }

    $(document).ready(function() {
      $('#b-reset').click(function() {
        var location = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(resetOptions()));
        document.location = location;
      });
      $('#b-submit').click(function() {
        var location = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(saveOptions()));
        document.location = location;
      });
    });
  </script>
</body>

</html>
