
<!DOCTYPE html>
<html>
<head>
<title>Configurable</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="/stephenj.co.uk/cdn-cgi/apps/head/8YAkhn5MLshVZzN2-sfKk7FoTH8.js"></script><link rel="icon" href="/stephenj.co.uk//favicon.png">
<link href="/stephenj.co.uk/Content/slate.css" rel="stylesheet">
<style>
        .item-select{
            direction:rtl;
        }
    </style>
<script src="/code.jquery.com//jquery-1.js"></script>
</head>
<body>
<div class="item-container">
<div class="item-container-header">Snazzy Settings</div>
<div class="item-container-content">
<label class="item" for="Key_Theme">
Theme:
<select class="item-select" data-val="true" data-val-required="The Key_Theme field is required." id="Key_Theme" name="Key_Theme"><option selected="selected" value="0">White</option>
<option value="6">Black</option>
<option value="1">Heat</option>
<option value="2">Ice</option>
<option value="3">Spring</option>
<option value="4">Leaf</option>
<option value="5">Magenta</option>
</select>
</label>
<label class="item" for="Key_Back">
Background Colour:
<select class="item-select" data-val="true" data-val-required="The Key_Back field is required." id="Key_Back" name="Key_Back"><option selected="selected" value="0">Black</option>
<option value="1">White</option>
</select>
</label>
</div>
<div class="item-container">
<div class="button-container">
<button type="submit" class="item-button" id="b-submit">Submit</button>
</div>
</div>
<div class="item-container">
<div class="button-container">
<button type="submit" class="item-button" id="b-cancel">Cancel</button>
</div>
</div>
</div>
<script src="/stephenj.co.uk/Scripts/slate.bin"></script>
<script>

        function getQueryParam(variable, default_) {
            var query = location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (pair[0] == variable)
                    return decodeURIComponent(pair[1]);
            }
            return default_ || false;
        }

      function saveOptions() {
          var options = { 'Key_Theme': parseInt($('#Key_Theme').val()), 'Key_Back': parseInt($('#Key_Back').val()) };

        return options;
      }
      $().ready(function () {

        $("#b-cancel").click(function() {
          console.log("Cancel");
          document.location = getQueryParam('return_to', 'pebblejs://close#');;
        });

        $("#b-submit").click(function() {
            console.log("Submit");

            var return_to = getQueryParam('return_to', 'pebblejs://close#');
            var location = return_to + encodeURIComponent(JSON.stringify(saveOptions()));

          console.log("Warping to: " + location);
          console.log(location);
          document.location = location;
        });

      });
    </script>
</body>
</html>