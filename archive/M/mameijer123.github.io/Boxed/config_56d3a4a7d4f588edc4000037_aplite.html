<!DOCTYPE html>
<html>
  <head>
    <title>BoxedIn Settings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/code.jquery.com/mobile/1.4.1/jquery.css">
    <script src="/code.jquery.com//jquery-2.js"></script>
    <script src="/code.jquery.com/mobile/1.4.1/jquery.js"></script>
  </head>
  <body>
    <div data-role="page" id="main">
      <div data-role="header" class="jqm-header">
        <h1>BoxedIn Settings</h1>
      </div>

      <div data-role="content">
        
<div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h3>ARE YOU HAVING BUG PROBLEMS?</h3>
        
<iframe src="/docs.google.com/forms/d/1CZGfElfzML-Lgyx0j0m209lV4D6X6jId2c79CVQC0Ls/viewform_719560751.html" width="350" height="window.outerHeight" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>


</div>

<div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h3>Color</h3>
        
<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Tile Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key5" id="key5-0" data-type="int" value="0" checked="checked" type="radio">
        <label for="key5-0">White</label>
        <input name="key5" id="key5-1" data-type="int" value="1" checked="checked" type="radio">
        <label for="key5-1">Black</label>
        <input name="key5" id="key5-2" data-type="int" value="2" checked="checked" type="radio">
        <label for="key5-2" style="color:#0055FF">Blue</label>
        <input name="key5" id="key5-3" data-type="int" value="3" checked="checked" type="radio">
        <label for="key5-3" style="color:#00FF00">Green</label>
        <input name="key5" id="key5-4" data-type="int" value="4" checked="checked" type="radio">
        <label for="key5-4" style="color:#FF0000">Red</label>
        <input name="key5" id="key5-5" data-type="int" value="5" checked="checked" type="radio">
        <label for="key5-5" style="color:#FF5500">Orange</label>
        <input name="key5" id="key5-6" data-type="int" value="6" checked="checked" type="radio">
        <label for="key5-6" style="color:#FFFF00">Yellow</label>
    </div>
</div></fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Line Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key6" id="key6-0" data-type="int" value="0" checked="checked" type="radio">
        <label for="key6-0">White</label>
        <input name="key6" id="key6-1" data-type="int" value="1" checked="checked" type="radio">
        <label for="key6-1">Black</label>
        <input name="key6" id="key6-2" data-type="int" value="2" checked="checked" type="radio">
        <label for="key6-2" style="color:#0055FF">Blue</label>
        <input name="key6" id="key6-3" data-type="int" value="3" checked="checked" type="radio">
        <label for="key6-3" style="color:#00FF00">Green</label>
        <input name="key6" id="key6-4" data-type="int" value="4" checked="checked" type="radio">
        <label for="key6-4" style="color:#FF0000">Red</label>
        <input name="key6" id="key6-5" data-type="int" value="5" checked="checked" type="radio">
        <label for="key6-5" style="color:#FF5500">Orange</label>
        <input name="key6" id="key6-6" data-type="int" value="6" checked="checked" type="radio">
        <label for="key6-6" style="color:#FFFF00">Yellow</label>
        <input name="key6" id="key6-7" data-type="int" value="7" checked="checked" type="radio">
        <label for="key6-7" style="color:#55FFFF">Electric Blue</label>
    </div>
</div></fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Time Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key0" id="key0-0" data-type="text" value="0xFFFFFF" checked="checked" type="radio">
        <label for="key0-0">White</label>
        <input name="key0" id="key0-1" data-type="text" value="0xFF0000" checked="checked" type="radio">
        <label for="key0-1" style="color:#FF0000">Red</label>
        <input name="key0" id="key0-2" data-type="text" value="0x0055FF" checked="checked" type="radio">
        <label for="key0-2" style="color:#0055FF">Blue</label>
        <input name="key0" id="key0-3" data-type="text" value="0x00FF00" checked="checked" type="radio">
        <label for="key0-3" style="color:#00FF00">Green</label>
        <input name="key0" id="key0-4" data-type="text" value="0xFFFF00" checked="checked" type="radio">
        <label for="key0-4" style="color:#FFFF00">Yellow</label>
        <input name="key0" id="key0-5" data-type="text" value="0xAA00AA" checked="checked" type="radio">
        <label for="key0-5" style="color:#AA00AA">Purple</label>
        <input name="key0" id="key0-6" data-type="text" value="0xFF5500" checked="checked" type="radio">
        <label for="key0-6" style="color:#FF5500">Orange</label>
        <input name="key0" id="key0-7" data-type="text" value="0xFF00FF" checked="checked" type="radio">
        <label for="key0-7" style="color:#FF00FF">Magenta</label>
        <input name="key0" id="key0-8" data-type="text" value="0x55FFFF" checked="checked" type="radio">
        <label for="key0-8" style="color:#55FFFF">Electric Blue</label>
        <input name="key0" id="key0-9" data-type="text" value="0x000000" checked="checked" type="radio">
        <label for="key0-9">Black</label>
    
    </div>
        
</div></fieldset>


<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Battery Percentage Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key1" id="key1-0" data-type="text" value="0xFFFFFF" checked="checked" type="radio">
        <label for="key1-0">White</label>
        <input name="key1" id="key1-1" data-type="text" value="0xFF0000" checked="checked" type="radio">
        <label for="key1-1" style="color:#FF0000">Red</label>
        <input name="key1" id="key1-2" data-type="text" value="0x0055FF" checked="checked" type="radio">
        <label for="key1-2" style="color:#0055FF">Blue</label>
        <input name="key1" id="key1-3" data-type="text" value="0x00FF00" checked="checked" type="radio">
        <label for="key1-3" style="color:#00FF00">Green</label>
        <input name="key1" id="key1-4" data-type="text" value="0xFFFF00" checked="checked" type="radio">
        <label for="key1-4" style="color:#FFFF00">Yellow</label>
        <input name="key1" id="key1-5" data-type="text" value="0xAA00AA" checked="checked" type="radio">
        <label for="key1-5" style="color:#AA00AA">Purple</label>
        <input name="key1" id="key1-6" data-type="text" value="0xFF5500" checked="checked" type="radio">
        <label for="key1-6" style="color:#FF5500">Orange</label>
        <input name="key1" id="key1-7" data-type="text" value="0xFF00FF" checked="checked" type="radio">
        <label for="key1-7" style="color:#FF00FF">Magenta</label>
        <input name="key1" id="key1-8" data-type="text" value="0x55FFFF" checked="checked" type="radio">
        <label for="key1-8" style="color:#55FFFF">Electric Blue</label>
        <input name="key1" id="key1-9" data-type="text" value="0x000000" checked="checked" type="radio">
        <label for="key1-9">Black</label>
    </div>
</div></fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Day of Week Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key2" id="key2-0" data-type="text" value="0xFFFFFF" checked="checked" type="radio">
        <label for="key2-0">White</label>
        <input name="key2" id="key2-1" data-type="text" value="0xFF0000" checked="checked" type="radio">
        <label for="key2-1" style="color:#FF0000">Red</label>
        <input name="key2" id="key2-2" data-type="text" value="0x0055FF" checked="checked" type="radio">
        <label for="key2-2" style="color:#0055FF">Blue</label>
        <input name="key2" id="key2-3" data-type="text" value="0x00FF00" checked="checked" type="radio">
        <label for="key2-3" style="color:#00FF00">Green</label>
        <input name="key2" id="key2-4" data-type="text" value="0xFFFF00" checked="checked" type="radio">
        <label for="key2-4" style="color:#FFFF00">Yellow</label>
        <input name="key2" id="key2-5" data-type="text" value="0xAA00AA" checked="checked" type="radio">
        <label for="key2-5" style="color:#AA00AA">Purple</label>
        <input name="key2" id="key2-6" data-type="text" value="0xFF5500" checked="checked" type="radio">
        <label for="key2-6" style="color:#FF5500">Orange</label>
        <input name="key2" id="key2-7" data-type="text" value="0xFF00FF" checked="checked" type="radio">
        <label for="key2-7" style="color:#FF00FF">Magenta</label>
        <input name="key2" id="key2-8" data-type="text" value="0x55FFFF" checked="checked" type="radio">
        <label for="key2-8" style="color:#55FFFF">Electric Blue</label>
        <input name="key2" id="key2-9" data-type="text" value="0x000000" checked="checked" type="radio">
        <label for="key2-9">Black</label>
    </div>
</div></fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Day of Month Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key3" id="key3-0" data-type="text" value="0xFFFFFF" checked="checked" type="radio">
        <label for="key3-0">White</label>
        <input name="key3" id="key3-1" data-type="text" value="0xFF0000" checked="checked" type="radio">
        <label for="key3-1" style="color:#FF0000">Red</label>
        <input name="key3" id="key3-2" data-type="text" value="0x0055FF" checked="checked" type="radio">
        <label for="key3-2" style="color:#0055FF">Blue</label>
        <input name="key3" id="key3-3" data-type="text" value="0x00FF00" checked="checked" type="radio">
        <label for="key3-3" style="color:#00FF00">Green</label>
        <input name="key3" id="key3-4" data-type="text" value="0xFFFF00" checked="checked" type="radio">
        <label for="key3-4" style="color:#FFFF00">Yellow</label>
        <input name="key3" id="key3-5" data-type="text" value="0xAA00AA" checked="checked" type="radio">
        <label for="key3-5" style="color:#AA00AA">Purple</label>
        <input name="key3" id="key3-6" data-type="text" value="0xFF5500" checked="checked" type="radio">
        <label for="key3-6" style="color:#FF5500">Orange</label>
        <input name="key3" id="key3-7" data-type="text" value="0xFF00FF" checked="checked" type="radio">
        <label for="key3-7" style="color:#FF00FF">Magenta</label>
        <input name="key3" id="key3-8" data-type="text" value="0x55FFFF" checked="checked" type="radio">
        <label for="key3-8" style="color:#55FFFF">Electric Blue</label>
        <input name="key3" id="key3-9" data-type="text" value="0x000000" checked="checked" type="radio">
        <label for="key3-9">Black</label>
    </div>
</div></fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Month Color</legend>
    <div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h4>Color</h4>
        <input name="key4" id="key4-0" data-type="text" value="0xFFFFFF" checked="checked" type="radio">
        <label for="key4-0">White</label>
        <input name="key4" id="key4-1" data-type="text" value="0xFF0000" checked="checked" type="radio">
        <label for="key4-1" style="color:#FF0000">Red</label>
        <input name="key4" id="key4-2" data-type="text" value="0x0055FF" checked="checked" type="radio">
        <label for="key4-2" style="color:#0055FF">Blue</label>
        <input name="key4" id="key4-3" data-type="text" value="0x00FF00" checked="checked" type="radio">
        <label for="key4-3" style="color:#00FF00">Green</label>
        <input name="key4" id="key4-4" data-type="text" value="0xFFFF00" checked="checked" type="radio">
        <label for="key4-4" style="color:#FFFF00">Yellow</label>
        <input name="key4" id="key4-5" data-type="text" value="0xAA00AA" checked="checked" type="radio">
        <label for="key4-5" style="color:#AA00AA">Purple</label>
        <input name="key4" id="key4-6" data-type="text" value="0xFF5500" checked="checked" type="radio">
        <label for="key4-6" style="color:#FF5500">Orange</label>
        <input name="key4" id="key4-7" data-type="text" value="0xFF00FF" checked="checked" type="radio">
        <label for="key4-7" style="color:#FF00FF">Magenta</label>
        <input name="key4" id="key4-8" data-type="text" value="0x55FFFF" checked="checked" type="radio">
        <label for="key4-8" style="color:#55FFFF">Electric Blue</label>
        <input name="key4" id="key4-9" data-type="text" value="0x000000" checked="checked" type="radio">
        <label for="key4-9">Black</label>
    </div>
</div></fieldset>






<input id='submit_button' type='button' value='Save'>

<script>
  // Get a handle to the button's HTML element
  var submitButton = document.getElementById('submit_button');

  // Add a 'click' listener
  submitButton.addEventListener('click', function() {
    
    console.log('Got here');
    // Get the config data from the UI elements
    var timeColor;
    var batteryColor;
    var dayOfWeekColor;
    var dayOfMonthColor;
    var monthColor;
    var tileColor;
    var lineColor;
    //var twentyfour = document.getElementsByName('key1');
    if (document.getElementById('key0-0').checked) {
      timeColor = document.getElementById('key0-0');
      localStorage.setItem("time", 0);
    } else if (document.getElementById('key0-1').checked) {
      timeColor = document.getElementById('key0-1');
    } else if (document.getElementById('key0-2').checked) {
      timeColor = document.getElementById('key0-2');
    } else if (document.getElementById('key0-3').checked) {
      timeColor = document.getElementById('key0-3');
    } else if (document.getElementById('key0-4').checked) {
      timeColor = document.getElementById('key0-4');
    } else if (document.getElementById('key0-5').checked) {
      timeColor = document.getElementById('key0-5');
    } else if (document.getElementById('key0-6').checked) {
      timeColor = document.getElementById('key0-6');
    } else if (document.getElementById('key0-7').checked) {
      timeColor = document.getElementById('key7-6');
    } else if (document.getElementById('key0-8').checked) {
      timeColor = document.getElementById('key0-8');
    } else if (document.getElementById('key0-9').checked) {
      timeColor = document.getElementById('key0-9');
    } 
    
    if (document.getElementById('key1-0').checked) {
      batteryColor = document.getElementById('key1-0');
    } else if (document.getElementById('key1-1').checked) {
      batteryColor = document.getElementById('key1-1');
    } else if (document.getElementById('key1-2').checked) {
      batteryColor = document.getElementById('key1-2');
    } else if (document.getElementById('key1-3').checked) {
      batteryColor = document.getElementById('key1-3');
    } else if (document.getElementById('key1-4').checked) {
      batteryColor = document.getElementById('key1-4');
    } else if (document.getElementById('key1-5').checked) {
      batteryColor = document.getElementById('key1-5');
    } else if (document.getElementById('key1-6').checked) {
      batteryColor = document.getElementById('key1-6');
    } else if (document.getElementById('key1-7').checked) {
      batteryColor = document.getElementById('key1-7');
    } else if (document.getElementById('key1-8').checked) {
      batteryColor = document.getElementById('key1-8');
    } else if (document.getElementById('key1-9').checked) {
      batteryColor = document.getElementById('key1-9');
    }
    
    if (document.getElementById('key2-0').checked) {
      dayOfWeekColor = document.getElementById('key2-0');
    } else if (document.getElementById('key2-1').checked) {
      dayOfWeekColor = document.getElementById('key2-1');
    } else if (document.getElementById('key2-2').checked) {
      dayOfWeekColor = document.getElementById('key2-2');
    } else if (document.getElementById('key2-3').checked) {
      dayOfWeekColor = document.getElementById('key2-3');
    } else if (document.getElementById('key2-4').checked) {
      dayOfWeekColor = document.getElementById('key2-4');
    } else if (document.getElementById('key2-5').checked) {
      dayOfWeekColor = document.getElementById('key2-5');
    } else if (document.getElementById('key2-6').checked) {
      dayOfWeekColor = document.getElementById('key2-6');
    } else if (document.getElementById('key2-7').checked) {
      dayOfWeekColor = document.getElementById('key2-7');
    } else if (document.getElementById('key2-8').checked) {
      dayOfWeekColor = document.getElementById('key2-8');
    } else if (document.getElementById('key2-9').checked) {
      dayOfWeekColor = document.getElementById('key2-9');
    }
    
    if (document.getElementById('key3-0').checked) {
      dayOfMonthColor = document.getElementById('key3-0');
    } else if (document.getElementById('key3-1').checked) {
      dayOfMonthColor = document.getElementById('key3-1');
    } else if (document.getElementById('key3-2').checked) {
      dayOfMonthColor = document.getElementById('key3-2');
    } else if (document.getElementById('key3-3').checked) {
      dayOfMonthColor = document.getElementById('key3-3');
    } else if (document.getElementById('key3-4').checked) {
      dayOfMonthColor = document.getElementById('key3-4');
    } else if (document.getElementById('key3-5').checked) {
      dayOfMonthColor = document.getElementById('key3-5');
    } else if (document.getElementById('key3-6').checked) {
      dayOfMonthColor = document.getElementById('key3-6');
    } else if (document.getElementById('key3-7').checked) {
      dayOfMonthColor = document.getElementById('key3-7');
    } else if (document.getElementById('key3-8').checked) {
      dayOfMonthColor = document.getElementById('key3-8');
    } else if (document.getElementById('key3-9').checked) {
      dayOfMonthColor = document.getElementById('key3-9');
    }
    
    if (document.getElementById('key4-0').checked) {
      monthColor = document.getElementById('key4-0');
    } else if (document.getElementById('key4-1').checked) {
      monthColor = document.getElementById('key4-1');
    } else if (document.getElementById('key4-2').checked) {
      monthColor = document.getElementById('key4-2');
    } else if (document.getElementById('key4-3').checked) {
      monthColor = document.getElementById('key4-3');
    } else if (document.getElementById('key4-4').checked) {
      monthColor = document.getElementById('key4-4');
    } else if (document.getElementById('key4-5').checked) {
      monthColor = document.getElementById('key4-5');
    } else if (document.getElementById('key4-6').checked) {
      monthColor = document.getElementById('key4-6');
    } else if (document.getElementById('key4-7').checked) {
      monthColor = document.getElementById('key4-7');
    } else if (document.getElementById('key4-8').checked) {
      monthColor = document.getElementById('key4-8');
    } else if (document.getElementById('key4-9').checked) {
      monthColor = document.getElementById('key4-9');
    } 
    
    if (document.getElementById('key5-0').checked) {
      tileColor = document.getElementById('key5-0');
    } else if (document.getElementById('key5-1').checked) {
      tileColor = document.getElementById('key5-1');
    } else if (document.getElementById('key5-2').checked) {
      tileColor = document.getElementById('key5-2');
    } else if (document.getElementById('key5-3').checked) {
      tileColor = document.getElementById('key5-3');
    } else if (document.getElementById('key5-4').checked) {
      tileColor = document.getElementById('key5-4');
    } else if (document.getElementById('key5-5').checked) {
      tileColor = document.getElementById('key5-5');
    } else if (document.getElementById('key5-6').checked) {
      tileColor = document.getElementById('key5-6');
    } 
    
    if (document.getElementById('key6-0').checked) {
      lineColor = document.getElementById('key6-0');
      console.log('send 0');
    } else if (document.getElementById('key6-1').checked) {
      lineColor = document.getElementById('key6-1');
      console.log('send 1');
    } else if (document.getElementById('key6-2').checked) {
      lineColor = document.getElementById('key6-2');
      console.log('send 2');
    } else if (document.getElementById('key6-3').checked) {
      lineColor = document.getElementById('key6-3');
      console.log('send 3');
    } else if (document.getElementById('key6-4').checked) {
      lineColor = document.getElementById('key6-4');
      console.log('send 4');
    } else if (document.getElementById('key6-5').checked) {
      lineColor = document.getElementById('key6-5');
      console.log('send 5');
    } else if (document.getElementById('key6-6').checked) {
      lineColor = document.getElementById('key6-6');
      console.log('send 6');
    } else if (document.getElementById('key6-7').checked) {
      lineColor = document.getElementById('key6-7');
      console.log('send 7');
    } 
    
    // Make a data object to be sent, coercing value types to integers
    var options = {
      'time_color': parseInt(timeColor.value, 16),
      'battery_color': parseInt(batteryColor.value, 16),
      'day_of_week_color': parseInt(dayOfWeekColor.value, 16),
      'day_of_month_color': parseInt(dayOfMonthColor.value, 16),
      'month_color': parseInt(monthColor.value, 16),
      'tile_color': parseInt(tileColor.value, 16),
      'line_color': parseInt(lineColor.value, 16),
      //'tile_color': Number(tileColor.val());
      //'foreground_color': parseInt(foregroundColor.value, 16),
      //'twentyfour': twentyfour.checked == 'true' ? 1 : 0,
    };
    
    //localStorage.timeColor = options.timeColor;
    //localStorage.batteryColor = options.batteryColor;
    //localStorage.dayOfWeekColor = options.dayOfWeekColor;
    //localStorage.dayOfMonthColor = options.dayOfMonthColor;
    //localStorage.monthColor = options.monthColor;
    
    if (localStorage.getItem("tile") == 0) {
      radiobtn = document.getElementById('key0-0');
      radiobtn.checked = true;
      console.log('Set check');
    }

    // Determine the correct return URL (emulator vs real watch)
    function getQueryParam(variable, defaultValue) {
      var query = location.search.substring(1);
      var vars = query.split('&');
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (pair[0] === variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      return defaultValue || false;
    }
    var return_to = getQueryParam('return_to', 'pebblejs://close#');

    // Encode and send the data when the page closes
    document.location = return_to + encodeURIComponent(JSON.stringify(options));
  });
</script>

  </div></div></div></div></div></body>
</html>
