function unauthorizedRequest(){appInsights.trackEvent("unauthorizedRequest",{sessionTimeoutUrl:sessionTimeoutUrl}),window.location.href=sessionTimeoutUrl}function redirect(n){appInsights.trackEvent("redirect",{redirectUrl:n}),window.location.href=n}function toTop(){window.scrollTo(0,0)}function truncateText(n,t){return n==null||t==null?n:n.length>t?n.substring(0,t)+"...":n}function displaySuccessMessage(n){$("#labelTaskInfo").html(n),$("#labelTaskInfo").addClass("alert alert-success")}function clearSuccessMessage(){$("#labelTaskInfo").html(""),$("#labelTaskInfo").removeClass("alert alert-success")}function CheckForGeneralError(n){switch(n.StatusCode){case 503:return n.Method!="DoLogin"&&redirect(maintenanceModeUrl),!0;case 401:return n.Method!="DoLogin"&&n.Method!="GetAuthorizationForAccountDelete"?(unauthorizedRequest(),!0):!1}return!1}function displayMessage(n,t,i){t==200&&redirect(i),t==401&&n.events.push("Login Failed. Please check your username and password.")}function showRegistering(){$("#m-submitstatus").modal("show"),startModalTimer()}function hideRegistering(n){n?redirect(n):$("#m-submitstatus").modal("hide")}function showLoading(){$("#m-locationload").modal("show")}function hideLoading(n){appInsights.trackEvent("hideLoading",{redirectUrl:n}),n?redirect(n):$("#m-locationload").modal("hide")}function showLoadingLocations(){$("#m-locationload").modal("show")}function hideLoadingLocations(){$("#m-locationload").modal("hide")}function startModalTimer(){appInsights.trackEvent("startModalTimer Start"),postingTimer=setInterval(function(){loadTimer()},6e4),redirectTimer=setInterval(function(){redirectTimerFunc()},12e4),appInsights.trackEvent("startModalTimer End")}function loadTimer(){appInsights.trackEvent("loadTimer - error displayed - 60 seconds passed"),$(".form-error").slideDown(),stopTimer()}function stopTimer(){appInsights.trackEvent("stopTimer"),clearInterval(postingTimer)}function stopRedirectTimer(){appInsights.trackEvent("stopRedirectTimer"),clearInterval(redirectTimer)}function redirectTimerFunc(){appInsights.trackEvent("redirectTimerFunc - redirecting user",{redirect:modalTimeoutRedirect}),window.location.replace(modalTimeoutRedirect),stopRedirectTimer()}function updateCookies(n,t){var i=encodeURIComponent(n.Username);$.get(getSessionCookieUrl+"?accessToken="+n.AccessToken+"&userid="+n.UserId+"&username="+i+"&displayname="+n.DisplayName+"&refreshToken="+n.RefreshToken,function(){t!=null&&redirect(t);return})}function showLoadingErrorModal(){appInsights.trackEvent("showLoadingErrorModal displayed"),$("#m-locationload").hide(),$(".loadingerror").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}String.prototype.format=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n},!function(n){n.timeoutDialog=function(t){var i={timeout:1200,countdown:60,title:"Your session is about to expire!",message:"You will be logged out in {0} seconds.",question:"Do you want to stay signed in?",keep_alive_button_text:"Yes, Keep me signed in",sign_out_button_text:"No, Sign me out",keep_alive_url:"/keep-alive",logout_url:null,logout_redirect_url:"/",restart_on_yes:!0,dialog_width:350},r;n.extend(i,t),r={init:function(){this.setupDialogTimer()},setupDialogTimer:function(){var n=this;window.setTimeout(function(){n.setupDialog()},(i.timeout-i.countdown)*1e3)},setupDialog:function(){var t=this;t.destroyDialog(),n('<div id="timeout-dialog"><p id="timeout-message">'+i.message.format('<span id="timeout-countdown">'+i.countdown+"<\/span>")+'<\/p><p id="timeout-question">'+i.question+"<\/p><\/div>").appendTo("body").dialog({modal:!0,width:i.dialog_width,minHeight:"auto",zIndex:1e4,closeOnEscape:!1,draggable:!1,resizable:!1,dialogClass:"timeout-dialog",title:i.title,buttons:{"keep-alive-button":{text:i.keep_alive_button_text,id:"timeout-keep-signin-btn",click:function(){t.keepAlive()}},"sign-out-button":{text:i.sign_out_button_text,id:"timeout-sign-out-button",click:function(){t.signOut(!0)}}}}),t.startCountdown()},destroyDialog:function(){n("#timeout-dialog").length&&(n("#timeout-dialog").dialog("close"),n("#timeout-dialog").remove())},startCountdown:function(){var r=this,t=i.countdown;this.countdown=window.setInterval(function(){t-=1,n("#timeout-countdown").html(t),t<=0&&(window.clearInterval(r.countdown),r.signOut(!1))},1e3)},keepAlive:function(){var t=this;this.destroyDialog(),window.clearInterval(this.countdown),n.get(i.keep_alive_url,function(n){n=="OK"?i.restart_on_yes&&t.setupDialogTimer():t.signOut(!1)})},signOut:function(t){var r=this;this.destroyDialog(),i.logout_url!=null?n.post(i.logout_url,function(){r.redirectLogout(t)}):r.redirectLogout(t)},redirectLogout:function(n){var t=i.logout_redirect_url+"?next="+encodeURIComponent(window.location.pathname+window.location.search);n||(t+="&timeout=t"),window.location=t}},r.init()}}(window.jQuery);var sessionTimeoutUrl="/Account/Logout?message=timeout",maintenanceModeUrl="/Account/Login?message=maintenanace",postingTimer=null,redirectTimer=null;var colorBlueStart="#257eb1",colorBlueEnd="#247eb2",colorGreenStart="#2e9985",colorGreenEnd="#2C9481",colorYellowStart="#fa9e2d",colorYellowEnd="#F2992C",colorOrangeStart="#ff5b1a",colorOrangeEnd="#FA5919",colorRedStart="#e93023",colorRedEnd="#f21f1f",colorNavyStart="#252931",colorNavyEnd="#282C35",colorOff="#000000",getTemperatureColour=function(n){return n()<=0?colorOff:n()<=5?colorBlueStart:n()<=15.5?colorBlueEnd:n()<=18.5?colorGreenStart:n()<=21.5?colorYellowStart:n()<=24.5?colorOrangeStart:colorRedEnd};$(window).on("load",function(){var n=window.navigator.userAgent,t=n.indexOf("MSIE "),f=n.indexOf("Trident/"),i=n.indexOf("Edge/"),r,u;t>0?(u=parseInt(n.substring(t+5,n.indexOf(".",t)),10),$("body").addClass("internet-explorer")):f>0?(r=n.indexOf("rv:"),u=parseInt(n.substring(r+3,n.indexOf(".",r)),10),$("body").addClass("internet-explorer")):i>0?(u=parseInt(n.substring(i+5,n.indexOf(".",i)),10),$("body").addClass("internet-explorer")):$("body").removeClass("internet-explorer"),$("body").hasClass("internet-explorer")?$("#payment-pending-loader .animation").append('<img src="/img/loader.gif">'):$("#payment-pending-loader .animation").append('<img src="/img/loader.svg">')});$(document).ready(function(){var n,t,i;navigator.userAgent.indexOf("AppleWebKit")!==-1&&$("form select").css({"-webkit-appearance":"none","background-image":'url("/img/select.png")'}),jQuery.validator.setDefaults({errorElement:"div",onkeyup:!1}),jQuery.validator.addMethod("telephoneNumberBeginning0",function(n,t){return this.optional(t)||n.match(/^0[0-9].*$/)},Resources.Localisation.ValidationTelephoneBeginsWithZero[locale]),jQuery.validator.addMethod("telephoneNumber",function(n,t){return this.optional(t)||n.match(/^[0-9]+$/)},Resources.Localisation.ValidationTelephone[locale]),jQuery.validator.addMethod("telephoneInternationalNumber",function(n,t){return this.optional(t)||n.match(/^[+][0-9]+$/)},Resources.Localisation.ValidationTelephoneInternational[locale]),jQuery.validator.addMethod("usernameContainsNumber",function(n,t){return this.optional(t)||n.match(/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/)},Resources.Localisation.ValidationUsernameCriteria[locale]),jQuery.validator.addMethod("postcodetext",function(n,t){return this.optional(t)||/^[^,]/i.test(n)},Resources.Localisation.ValidationSelectCountry[locale]),$("#Country").change(function(){var n=/^not.applicable$/i,t=$("#TimeZone"),i=$("#RequiresDaylightSavingsInput");i.hide(),$(this).val()=="GB"&&(n=/^(GIR 0AA)|[A-PR-UWYZ]([0-9]{1,2}|([A-HK-Y][0-9]([0-9ABEHMNPRV-Y])?)|[0-9][A-HJKPS-UW]) [0-9][ABD-HJLNP-UW-Z]{2}$/i,t.val("GMTStandardTime").change()),$(this).val()=="NL"&&(n=/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="DE"&&(n=/^((?:0[1-46-9]\d{3})|(?:[1-357-9]\d{4})|(?:[4][0-24-9]\d{3})|(?:[6][013-9]\d{3}))$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="CZ"&&(n=/^(([0-9]{5})|([0-9]{3}[ ]{0,1}[0-9]{2}))$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="IE"&&(n=/^.*$/i,t.val("GMTStandardTime").change()),$(this).val()=="PT"&&(n=/^([0-9]{4,4}-[0-9]{3,3})$/i,t.val("GMTStandardTime").change()),$(this).val()=="ES"&&(n=/^([1-9]{2}|[0-9][1-9]|[1-9][0-9])[0-9]{3}$/i,t.val("RomanceStandardTime").change()),$(this).val()=="AT"&&(n=/^[0-9]{4,4}$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="BE"&&(n=/^[1-9]{1}[0-9]{3}$/i,t.val("RomanceStandardTime").change()),$(this).val()=="IT"&&(n=/^(V-|I-)?[0-9]{5}$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="FR"&&(n=/^(F-)?((2[A|B])|[0-9]{2})[0-9]{3}$/i,t.val("RomanceStandardTime").change()),$(this).val()=="CH"&&(n=/^[1-9][0-9][0-9][0-9]$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="LU"&&(n=/^(L[- ])?[0-9]{4,4}$/i,t.val("CentralEuropeanStandardTime").change()),$(this).val()=="LI"&&(n=/^[1-9][0-9][0-9][0-9]$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="IS"&&(n=/^[0-9]{3,3}$/i,t.val("GreenwichStandardTime").change(),i.show()),$(this).val()=="DK"&&(n=/^(DK(-| )?)?[0-9]{4}$/i,t.val("RomanceStandardTime").change()),$(this).val()=="NO"&&(n=/^[0-9]{4,4}$/i,t.val("CentralEuropeanStandardTime").change()),$(this).val()=="SE"&&(n=/^([0-9]{3,3}\s[0-9]{2,2})$/i,t.val("WEuropeStandardTime").change()),$(this).val()=="FI"&&(n=/^[0-9]{5,5}$/i,t.val("FLEStandardTime").change()),$(this).val()=="PL"&&(n=/^[0-9]{2}-?[0-9]{3}$/i,t.val("CentralEuropeanStandardTime").change()),$(this).val()=="SK"&&(n=/^(([0-9]{5})|([0-9]{3}[ ]{0,1}[0-9]{2}))$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="HU"&&(n=/^[0-9]{4,4}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="TR"&&(n=/^[0-9]{5,5}$/i,t.val("TurkeyStandardTime").change()),$(this).val()=="UA"&&(n=/^[0-9]{5,5}$/i,t.val("FLEStandardTime").change()),$(this).val()=="BY"&&(n=/^[0-9]{6}$/i,t.val("KaliningradStandardTime").change(),i.show()),$(this).val()=="RU"&&(n=/^[0-9]{6}$/i,t.val(null).change(),i.show()),$(this).val()=="UZ"&&(n=/^[0-9]{6}$/i,t.val("WestAsiaStandardTime").change()),$(this).val()=="KZ"&&(n=/^[0-9]{6}$/i,t.val(null).change()),$(this).val()=="BG"&&(n=/^[0-9]{4,4}$/i,t.val("FLEStandardTime").change()),$(this).val()=="EE"&&(n=/^[0-9]{5}$/i,t.val("FLEStandardTime").change()),$(this).val()=="LV"&&(n=/^(LV[- ])?[0-9]{4,4}$/i,t.val("FLEStandardTime").change()),$(this).val()=="LT"&&(n=/^(LT[- ])?[0-9]{5,5}$/i,t.val("FLEStandardTime").change()),$(this).val()=="MD"&&(n=/^[0-9]{4,4}$/i,t.val("EEuropeStandardTime").change()),$(this).val()=="RO"&&(n=/^[0-9]{6,6}$/i,t.val("GTBStandardTime").change()),$(this).val()=="GR"&&(n=/^(([0-9]{5})|([0-9]{3}[ ]{0,1}[0-9]{2}))$/i,t.val("GTBStandardTime").change()),$(this).val()=="RS"&&(n=/^[0-9]{5,5}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="SI"&&(n=/^[0-9]{4,4}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="CY"&&(n=/^[0-9]{4}$/i,t.val("EEuropeStandardTime").change()),$(this).val()=="AL"&&(n=/^[0-9]{4,4}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="BA"&&(n=/^[0-9]{5,5}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="HR"&&(n=/^[0-9]{5,5}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="MT"&&(n=/^[A-Z]{3} ?[0-9]{2,4}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="MK"&&(n=/^[0-9]{4,4}$/i,t.val("CentralEuropeStandardTime").change()),$(this).val()=="AU"&&(n=/^[0-9]{4}$/i,t.val(null).change()),$(this).val()=="BH"&&(n=/^.*$/i,t.val("ArabicStandardTime").change()),$(this).val()=="SA"&&(n=/^[0-9]{5}$|[0-9]{5}-[0-9]{4}$/i,t.val("ArabicStandardTime").change()),$(this).val()=="KW"&&(n=/^[0-9]{5}$/i,t.val("ArabicStandardTime").change()),$(this).val()=="NZ"&&(n=/^[0-9]{4}$/i,t.val("NewZealandStandardTime").change()),$(this).val()=="OM"&&(n=/^[0-9]{3}$/i,t.val("ArabianStandardTime").change()),$(this).val()=="QA"&&(n=/^.*$/i,t.val("ArabicStandardTime").change()),$(this).val()=="AE"&&(n=/^.*$/i,t.val("ArabianStandardTime").change()),jQuery.validator.addMethod("postcodetext",function(t,i){return this.optional(i)||n.test(t)||/^not.applicable$/i.test(t)},Resources.Localisation.ValidationPostcode[locale])}),function(){var n,t=fullLocale=="en-QA"||fullLocale=="en-AE";t?$("#AddressLabel").text(Resources.Localisation.AccountRegisterPoBox[locale]):$("#AddressLabel").text(Resources.Localisation.AccountRegisterAddress[locale]),$("#Country").focus(function(){n=this.value}).change(function(){var i=$("#Postcode"),f=this.value=="IE"||this.value=="QA"||this.value=="AE"||this.value=="OM"||this.value=="SA"||this.value=="BH"||this.value=="KW"||this.value=="AU"||this.value=="NZ",e=n=="IE"||n=="QA"||n=="AE"||n=="OM"||n=="SA"||n=="BH"||n=="KW"||n=="AU"||n=="NZ",r,u;f&&i.prop("enabled",!0)?(i.val(Resources.Localisation.PostcodeNotApplicable[locale]),i.valid(),i.prop("enabled",!1),i.prop("disabled",!0).change()):e&&i.prop("disabled",!0)&&(i.val("").change(),$(".form-address-inner").length>0&&$(".form-address-inner").hasClass("been-validated")&&i.valid(),i.prop("disabled",!1),i.prop("enabled",!0).change()),r=this.value=="QA"||this.value=="AE",u=n=="QA"||n=="AE",r?$("#AddressLabel").text(Resources.Localisation.AccountRegisterPoBox[locale]):(u||t)&&(t=!1,$("#AddressLabel").text(Resources.Localisation.AccountRegisterAddress[locale])),n=this.value})}(),$("#login").validate({rules:{Password:"required",EmailAddress:{required:!0,email:!0},RememberMe:{required:!1}},messages:{Password:Resources.Localisation.ValidationPasswordRequired[locale],EmailAddress:{required:Resources.Localisation.ValidationEmailRequired[locale],email:Resources.Localisation.ValidationEmailInvalid[locale]}},submitHandler:function(){$("button").addClass("loading"),$(".alert").remove()}}),$("#change-password").validate({rules:{email:{required:!0},ConfirmPassword:{equalTo:"#Password"},Password:{required:!0,minpasslength:8,maxpasslength:30,passwordupper:!0,passwordlower:!0,passwordnumber:!0}},messages:{ConfirmEmail:{equalTo:Resources.Localisation.ValidationEmailsDifferent[locale]},ConfirmPassword:{equalTo:Resources.Localisation.ValidationPasswordsDifferent[locale]}}}),$("#forgotten-password").validate({rules:{email:{required:!0}}}),$("#register-gateway").validate({submitHandler:function(){$("#m-submitstatus").modal("show"),startModalTimer()}}),n=$("#addlocation , #editlocation").validate({invalidHandler:function(){var i=n.numberOfInvalids(),t;i?(t=Resources.Localisation.ValidationAllFields[locale],$(".errormessages").prepend("<p>"+t+"<\/p>")):$(".errormessages").hide()},rules:{daylight:{required:!1},UseDaylightsavingSwitch:{required:!1},Name:{maxlength:20},Address:{maxlength:150},City:{maxlength:50},Postcode:{postcodetext:!0,required:!0},EmailAddress1:{maxlength:50},EmailAddress2:{maxlength:50},EmailAddress3:{maxlength:50},EmailAddress4:{maxlength:50},EmailAddress5:{maxlength:50},EmailAddress6:{maxlength:50}},submitHandler:function(){$("#m-submitstatus").modal("show"),startModalTimer()}}),$("#grantaccess").validate({rules:{EmailAddress:{required:!0,maxlength:50},ConfirmEmailAddress:{equalTo:"#EmailAddress"},Comments:{required:!1,maxlength:255}},messages:{ConfirmEmailAddress:{equalTo:Resources.Localisation.ValidationEmailsDifferent[locale]}}}),$("#grantaccess input , #grantaccess textarea").bind("keyup change",function(){$("#submit").removeAttr("disabled")}),$.validator.addMethod("maxpasslength",function(n,t,i){return $(t).val().length>i?!1:!0},Resources.Localisation.ValidationPasswordCriteria[locale]),$.validator.addMethod("minpasslength",function(n,t,i){return $(t).val().length<i?!1:!0},Resources.Localisation.ValidationPasswordCriteria[locale]),$.validator.addMethod("passwordlower",function(n,t){return this.optional(t)||n.match(/[a-z]/)},Resources.Localisation.ValidationPasswordCriteria[locale]),$.validator.addMethod("passwordupper",function(n,t){return this.optional(t)||n.match(/[A-Z]/)},Resources.Localisation.ValidationPasswordCriteria[locale]),$.validator.addMethod("passwordnumber",function(n,t){return this.optional(t)||n.match(/[0-9]/)},Resources.Localisation.ValidationPasswordCriteria[locale]),$.extend(jQuery.validator.messages,{required:Resources.Localisation.ValidationRequiredField[locale],email:Resources.Localisation.ValidationEmailInvalid[locale]});$("#Password").on("change keyup blur input",function(){$("#Password").val().match(/[a-z]/)?$("#smallch").addClass("active"):$("#smallch").removeClass("active"),$("#Password").val().match(/[A-Z]/)?$("#largech").addClass("active"):$("#largech").removeClass("active"),$("#Password").val().match(/[0-9]/)?$("#numberch").addClass("active"):$("#numberch").removeClass("active"),$("#Password").val().length>=8&&$("#Password").val().length<=30?$("#length").addClass("active"):$("#length").removeClass("active")});t=$("#forgotten-password-form").validate({rules:{username:{required:!0,minlength:6,maxlength:50},NewPassword:{required:!0,minpasslength:8,maxpasslength:30,passwordupper:!0,passwordlower:!0,passwordnumber:!0},code:{required:!0,maxlength:10},ConfirmNewPassword:{required:!0,maxlength:30,equalTo:"#NewPassword"}},messages:{ConfirmPassword:{equalTo:"@Localisation.ValidationPasswordsDifferent"}}}),i=$("#forgotten-username-form").validate({rules:{email:{required:!0,email:!0}}});$("#NewPassword").on("change keyup blur input",function(){$("#NewPassword").val().match(/[a-z]/)?$("#smallch").addClass("active"):$("#smallch").removeClass("active"),$("#NewPassword").val().match(/[A-Z]/)?$("#largech").addClass("active"):$("#largech").removeClass("active"),$("#NewPassword").val().match(/[0-9]/)?$("#numberch").addClass("active"):$("#numberch").removeClass("active"),$("#NewPassword").val().length>=8&&$("#NewPassword").val().length<=30?$("#length").addClass("active"):$("#length").removeClass("active")});$(".m-menubutton").click(function(){$(this).stop().toggleClass("active"),$(".menu").stop().toggleClass("active"),$(".menu").stop().slideToggle(250),$(".menu").hasClass("active")?($(".l-content , footer").prepend('<div class="disable"><\/div>'),$(".m-languageselect").css("display")!="none"&&($(".m-languageselect").css("display","none"),$(".lang").removeClass("opened"))):$("div").remove(".disable")}),$(".lang").click(function(){$(this).toggleClass("hover")}),$(document).click(function(){$(".lang").removeClass("hover")}),$("input[type='checkbox']").change(function(){$(this).closest("label").toggleClass("selected",this.checked)}),$("input[type='radio']").change(function(){$(this).parent().siblings().removeClass("selected"),$(this).parent().addClass("selected")}),$("#m-submitstatus").modal({keyboard:!1,backdrop:"static",show:!1}),$(".return").click(function(){$("#m-submitstatus").modal("hide")}),$("#m-timeout").modal({keyboard:!1,backdrop:"static",show:!1}),$("#m-locationload").modal({keyboard:!1,backdrop:!1,show:!1}),$("#m-comfortenergy").modal({show:!1}),$(".comfort, #m-comfortenergy .close").click(function(){$("#m-comfortenergy").modal("toggle")}),$(".terms , .popup").click(function(){$("#modal").modal("toggle")}),$(".cancel").click(function(){$("#cancel").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}),$(".delete").click(function(){$(this).closest(".modal").modal("hide"),$("body").removeClass("modal-open")}),$(".deletenotallowed").click(function(){$("#delete.locationdeletenotallowed").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}),$(".already-installed").click(function(){$(".step1").hide(),$(".step2").hide(),$(".step3").hide(),$(".step4").hide(),$("#verificationProcess").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open"),$(".step1").fadeIn()}),$("#delete-location").click(function(){$("#delete.delete-location").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}),$(".update-timezone-gsm").click(function(){$("#delete.update-timezone-gsm").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}),$(".deletegateway").click(function(){$("#deletegateway").modal({keyboard:!1,backdrop:"static"},"toggle"),$("body").toggleClass("modal-open")}),$("#m-customercare").modal({show:!1,backdrop:"static"}),$(".customercare").click(function(){$("body").toggleClass("modal-open")});$("#m-customercare .close").on("click",function(){$("#m-customercare").modal("hide")});$(".yes-delete").click(function(){$("body").removeClass("modal-open")}),$(".done , .close , #cancel .cancel.button, #delete .delete.button").click(function(){$("#modal").modal("hide"),$("#cancel").modal("hide"),$("#delete").modal("hide")}),$("#delete .deletegateway.button").click(function(){$(".delete-gateway").modal("hide"),$("body").removeClass("modal-open")}),$(".e-close").click(function(){$(".l-notice").slideToggle()}),$("#locationtoggle").click(function(){$("#locationcheck").is(":checked")?$("#Address , #City , #Postcode , #Country , #Region").prop("disabled",!0).change():$("#locationcheck").is(":checked")&&$("#Country").val()=="IE"?$("#Address , #City , #Country , #Region").prop("disabled",!0).change():$("#locationcheck").is(":checked")||$("#Country").val()!="IE"?($("#Address , #City , #Postcode , #Country , #Region").prop("disabled",!1),$("#Address , #City , #Postcode , #Country , #Region").prop("enabled",!0).change()):($("#Address , #City , #Country , #Region").prop("disabled",!1),$("#Address , #City , #Country , #Region").prop("enabled",!0).change()),$(this).focus()}),$(".accordion-heading a").click(function(){$(this).parents(".accordion-group").siblings().children().children(".accordion-toggle").addClass("collapsed"),$(this).removeClass("collapsed")}),$(".accordion.bottom .accordion-heading").click(function(){$(this).parents(".accordion-group").siblings().children(".accordion-heading").addClass("collapsed"),$(this).removeClass("collapsed")}),$("#register-security-system").validate({rules:{EmailAddress:{required:!0,maxlength:100},FirstName:{required:!0,maxlength:20},LastName:{required:!0,maxlength:20},MobileNumber:{required:!0,maxlength:20,telephoneNumberSecurity:!0},Username:{required:!0,maxlength:100},Password:{required:!0,minpasslength:8,maxpasslength:20,passwordlower:!0,passwordupper:!0,passwordnumber:!0},ConfirmPassword:{required:!0,equalTo:"#Password"},SystemId1:{required:!0,minlength:4,maxlength:4},SystemId2:{required:!0,minlength:4,maxlength:4},SystemId3:{required:!0,minlength:4,maxlength:4},SystemId4:{required:!0,minlength:4,maxlength:4},SystemId5:{required:!0,minlength:4,maxlength:4}},messages:{ConfirmPassword:{equalTo:Resources.Localisation.ValidationPasswordsDifferent[locale]},SystemId1:{required:Resources.Localisation.SecurityRegisterCodeNotValid[locale],minlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale],maxlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale]},SystemId2:{required:Resources.Localisation.SecurityRegisterCodeNotValid[locale],minlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale],maxlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale]},SystemId3:{required:Resources.Localisation.SecurityRegisterCodeNotValid[locale],minlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale],maxlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale]},SystemId4:{required:Resources.Localisation.SecurityRegisterCodeNotValid[locale],minlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale],maxlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale]},SystemId5:{required:Resources.Localisation.SecurityRegisterCodeNotValid[locale],minlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale],maxlength:Resources.Localisation.SecurityRegisterCodeNotValid[locale]}},groups:{SystemIds:"SystemId1 SystemId2 SystemId3 SystemId4 SystemId5"},errorPlacement:function(n,t){t.attr("name").indexOf("SystemId")==0?n.insertAfter("#system-ID-fields"):n.insertAfter(t)}})})